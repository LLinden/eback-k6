(()=>{"use strict";var e={n:t=>{var s=t&&t.__esModule?()=>t.default:()=>t;return e.d(s,{a:s}),s},d:(t,s)=>{for(var r in s)e.o(s,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:s[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>l});const s=require("k6/http");var r=e.n(s);const a=require("k6");class o{static getBaseUrl(){return"http://localhost:3000/api"}}class i{token;access(e,t){let s=r().post(`${o.getBaseUrl()}/login`,JSON.stringify({username:e,password:t}),{headers:{"Content-Type":"application/json",Accept:"application/json"}});this.token=s.json("accessToken"),(0,a.check)(s,{"status deve ser 201":e=>201===e.status})}getToken(){return this.token}}const n=JSON.parse('{"W":{"E":"admin","X":"admin"}}'),c=JSON.parse('{"Lk":{"id":"cljd3v3y40000etkccx8p7cb7"},"Do":"teste@teste.com.br","BV":"JoÃ£o","CV":"Silva","m7":"999999999"}');class d{idCliente;list(e){let t=r().get(`${o.getBaseUrl()}/customers`,{headers:{Authorization:`Bearer ${e}`}});(0,a.check)(t,{"listagem deve retornar 200":e=>e&&200===e.status})}create(e,t,s,i,n,c){let d=r().post(`${o.getBaseUrl()}/customers`,JSON.stringify({address:{id:t},email:s,firstName:i,lastName:n,phone:c}),{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json",Accept:"application/json"}});this.idCliente=d.json("id"),(0,a.check)(d,{"chamada deve retornar 201":e=>e&&201===e.status})}getCustomerId(){return this.idCliente}listById(e,t){let s=r().get(`${o.getBaseUrl()}/customers/${t}`,{headers:{Authorization:`Bearer ${e}`}});(0,a.check)(s,{"listagem deve retornar 200":e=>e&&200===e.status})}update(e,t,s,i,n,c,d){let l=r().patch(`${o.getBaseUrl()}/customers/${t}`,JSON.stringify({address:{id:s},email:i,firstName:n,lastName:c,phone:d}),{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json",Accept:"application/json"}});this.idCliente=l.json("id"),(0,a.check)(l,{"chamada deve retornar 200":e=>e&&200===e.status})}delete(e,t){let s=r().delete(`${o.getBaseUrl()}/customers/${t}`,{headers:{Authorization:`Bearer ${e}`}});(0,a.check)(s,{"listagem deve retornar 200":e=>e&&200===e.status})}}function l(){let e=new i,t=new d;(0,a.group)("login and get token",(()=>{e.access(n.W.E,n.W.X)})),(0,a.group)("create customers",(()=>{t.create(e.getToken(),c.Lk.id,c.Do,c.BV,c.CV,c.m7)})),(0,a.group)("list customers",(()=>{t.list(e.getToken())})),(0,a.group)("list customer by id",(()=>{t.listById(e.getToken(),t.getCustomerId())})),(0,a.group)("update customer by id",(()=>{t.update(e.getToken(),t.getCustomerId(),c.Lk.id,c.Do,c.BV,c.CV,c.m7)})),(0,a.group)("delete customer by id",(()=>{t.listById(e.getToken(),t.getCustomerId())}))}var u=exports;for(var p in t)u[p]=t[p];t.__esModule&&Object.defineProperty(u,"__esModule",{value:!0})})();